<div class=" flex flex-col gap-4">
  <div>
    <p class=" text-lg font-bold text-fuchsia-800">Apply for Leave</p>
  </div>
  <!--Tabs-->
  <mat-tab-group  dynamicHeight  >
    <!--Tab 1 Apply for leave-->
    <mat-tab label="APPLY FOR LEAVE" >
      <!-- Card -->
      <div class="flex gap-10 flex-col p-10 " >
        <mat-card class="w-auto h-auto shadow-xl p-4  " >
          <div class="flex flex-col gap-6">
            <div class="flex flex-col gap-2">
              <div class="flex gap-2 items-center">
                <mat-card-title >Leave Count Manager</mat-card-title>
                <mat-card-subtitle class="text-fuchsia-800" >(Managed by Admin).</mat-card-subtitle>
              </div>
              <mat-card-subtitle class="text-red-800 text-xs">Note: In any case contact admin to reschedule your leave limit.</mat-card-subtitle>
            </div>
            <mat-tab-group>
              <mat-tab label="Casual Leaves">
                <div class="flex justify-evenly mt-4">
                <p class=" text-xs font-semibold">Allowed Leaves:{{" "}}<span class="font-normal ">{{allowedCasualLeaves}}</span> </p>
                <p class=" text-xs font-semibold">Consumed Leaves:{{" "}}<span class="font-normal ">{{consumedCasualLeaves}}</span> </p>
                <p class=" text-xs font-semibold">Balance:{{" "}}<span class="font-normal ">{{balanceCasualLeaves}}</span> </p>
                </div>
              </mat-tab>
              <mat-tab label="Compensatory Leaves">
                <div class="flex justify-evenly mt-4">
                  <p class=" text-xs font-semibold">Allowed Leaves:{{" "}}<span class="font-normal ">{{allowedCompensatoryLeaves}}</span> </p>
                  <p class=" text-xs font-semibold">Consumed Leaves:{{" "}}<span class="font-normal ">{{consumedCompensatoryLeaves}}</span> </p>
                  <p class=" text-xs font-semibold">Balance:{{" "}}<span class="font-normal ">{{balanceCompensatoryLeaves}}</span> </p>
                </div>
              </mat-tab>
              <mat-tab label="Earned Leaves">
                <div class="flex justify-evenly mt-4">
                  <p class=" text-xs font-semibold">Allowed Leaves:{{" "}}<span class="font-normal ">{{allowedEarnedLeaves}}</span> </p>
                  <p class=" text-xs font-semibold">Consumed Leaves:{{" "}}<span class="font-normal ">{{consumedEarnedLeaves}}</span> </p>
                  <p class=" text-xs font-semibold">Balance:{{" "}}<span class="font-normal ">{{balanceEarnedLeaves}}</span> </p>
                </div>
              </mat-tab>
            </mat-tab-group>
          </div>
        </mat-card>
      <!--Apply for leave -->
        <mat-card class="w-96 h-auto shadow-xl p-4 ">
          <div class="flex flex-col gap-4">
            <div class="flex flex-col gap-2">
              <mat-card-title >Apply For Leave</mat-card-title>
              <mat-card-subtitle class="text-red-800 text-xs">Note: Check your Leave limit before applying for leave.</mat-card-subtitle>
            </div>
            <!-- Date Picker-->
            <mat-form-field appearance="fill">
              <mat-label>To Date</mat-label>
              <input [(ngModel)]="applyLeaveForm.toDate" matInput [matDatepicker]="toPicker">
              <mat-hint>MM/DD/YYYY</mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="toPicker"></mat-datepicker-toggle>
              <mat-datepicker #toPicker></mat-datepicker>
            </mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>From Date</mat-label>
                <input [(ngModel)]="applyLeaveForm.fromDate" matInput [matDatepicker]="fromPicker">
                <mat-hint>MM/DD/YYYY</mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="fromPicker"></mat-datepicker-toggle>
              <mat-datepicker #fromPicker></mat-datepicker>
            </mat-form-field>
      <!--Dropdown -->
            <mat-form-field appearance="fill">
              <mat-label>Type of Leave</mat-label>
              <mat-select [(ngModel)]="applyLeaveForm.leaveType">
                <mat-option value="full">Full</mat-option>
                <mat-option value="half">Half</mat-option>
              </mat-select>
            </mat-form-field>
<!--              Hours/Minutes fields (if 'half' selected)-->
<!--            <ng-container *ngIf="applyLeaveForm.leaveType === 'Half'" >-->
<!--                <div class="flex gap-2 items-center">-->
<!--                  <mat-form-field appearance="fill">-->
<!--                    <mat-label>Hour/s</mat-label>-->
<!--                    <input [(ngModel)]="applyLeaveForm.hh" type="number" TwoDigitVal matInput placeholder="1">-->
<!--                  </mat-form-field>-->
<!--                  <mat-form-field appearance="fill">-->
<!--                    <mat-label>Minute/s</mat-label>-->
<!--                    <input [(ngModel)]="applyLeaveForm.mm" type="number" TwoDigitVal matInput placeholder="00">-->
<!--                  </mat-form-field>-->
<!--                </div>-->
<!--            </ng-container>-->
            <mat-form-field appearance="fill">
              <mat-label>Description of Leave</mat-label>
              <mat-select [(ngModel)]="applyLeaveForm.descriptionLeave">
                <mat-option value="Casual">Casual</mat-option>
                <mat-option value="Compensatory">Compensatory</mat-option>
                <mat-option value="Earned">Earned</mat-option>
              </mat-select>
            </mat-form-field>
              <!--  Reason for Leave   -->
            <mat-form-field>
              <mat-label>Reason</mat-label>
              <textarea [(ngModel)]="applyLeaveForm.reason"  matInput placeholder="Description for Leave"></textarea>
            </mat-form-field>
            <mat-card-actions>
              <!--Button -->
              <div class="flex w-full justify-end " >
                <button (click)="applyLeave()" mat-raised-button  color="primary">APPLY</button>
              </div>
            </mat-card-actions>
          </div>
        </mat-card>
      </div>
    </mat-tab>
    <!-- Tab 2 leave Status     -->
    <mat-tab label="LEAVE STATUS">
      <!-- Card -->
      <div class="flex gap-4 flex-wrap p-10" >
        <mat-card class="w-96 h-auto shadow-xl p-4 flex-col gap-4 " *ngFor="let leave of leaveStats" >
          <div class="flex flex-col gap-2">
            <mat-card-title >Leave Status</mat-card-title>
            <mat-card-subtitle class="text-red-800">Note: In any case contact your admin for leave approval.</mat-card-subtitle>
          </div>
          <div class="flex flex-col gap-4">
            <p class=" text-xs font-semibold">Applied for Leave:{{" "}}<span class="font-normal ">{{leave["toDate"]|date:"dd, MMMM, yyyy"}} - {{leave["fromDate"]|date:"dd, MMMM, yyyy"}}</span> </p>
            <p class=" text-xs font-semibold">Status:{{" "}}<span class="font-normal ">{{leave.status}}</span> </p>
            <p class=" text-xs font-semibold">Reason:{{" "}}<span class="font-normal ">{{leave.reason}}</span> </p>
          </div>
        </mat-card>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>


