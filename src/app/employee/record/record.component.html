<div class=" flex flex-col gap-4">
  <div>
    <p class="text-xl font-medium text-blue-800 underline">Leave/Attendance Record </p>
  </div>
  <!--Tabs-->
  <mat-tab-group  dynamicHeight  >
    <!--Tab 1 LEAVE RECORD-->
    <mat-tab label="LEAVE RECORD" >
      <!--   Table    -->
      <div class="flex flex-col gap-2 flex-wrap py-10 " >
        <mat-accordion>
          <mat-expansion-panel  >
            <mat-expansion-panel-header>
              <mat-panel-title>
                  Your Leave Record
              </mat-panel-title>
              <mat-panel-description class="text-blue-800" >
                Click me to view your leave record.
              </mat-panel-description>
            </mat-expansion-panel-header>
            <div class="flex gap-2 py-2">
              <!-- Date Picker-->
              <!--   From Date   -->
              <mat-form-field appearance="fill" class="w-80">
                <mat-label>From Date</mat-label>
                <input [(ngModel)]="dateForm.fromDate" matInput [matDatepicker]="fromPicker">
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="fromPicker"></mat-datepicker-toggle>
                <mat-datepicker #fromPicker></mat-datepicker>
              </mat-form-field>
              <!--  To Date    -->
              <mat-form-field appearance="fill" class="w-80">
                <mat-label>To Date</mat-label>
                <input [(ngModel)]="dateForm.toDate" matInput [matDatepicker]="toPicker">
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="toPicker"></mat-datepicker-toggle>
                <mat-datepicker #toPicker></mat-datepicker>
              </mat-form-field>
              <div class="mt-3">
                <button class="w-60" mat-stroked-button color="accent" (click)="getleaveRecord()"> Check Record</button>
              </div>
            </div>
          <!--            -->
            <div class="flex gap-4 flex-wrap py-2" >
              <!-- if leave record is null   -->
              <div *ngIf="recordLeaves == null">
                <mat-card customColor class="w-80 h-auto shadow-xl p-4" *ngFor="let record of recordLeaves" >
                  <div class="flex flex-col gap-4">
                    <mat-card-title>Leave Day/s: {{record["appliedLeaveDays"]}}</mat-card-title>
                    <p class=" text-xs font-semibold">Date:{{" "}}<span class="font-normal ">{{record["toDate"]|date:"dd, MMMM, yyyy"}} - {{record["fromDate"]|date:"dd, MMMM, yyyy"}}</span> </p>
                    <p class=" text-xs font-semibold">Leave Description:{{" "}}<span class="font-normal ">{{record["descriptionLeave"]}}</span> </p>
                    <p class=" text-xs font-semibold">Leave Type:{{" "}}<span class="font-normal ">{{record["leaveType"]|uppercase}}</span> </p>
                    <p class=" text-xs font-semibold">Reason:{{" "}}<span class="font-normal ">{{record["reason"]}}</span> </p>
                  </div>
                </mat-card>
              </div>
              <!-- else if show selected record -->
               <mat-card customColor class="w-80 h-auto shadow-xl p-4" *ngFor="let record of recordLeaves" >
                <div class="flex flex-col gap-4">
                  <mat-card-title>Leave Day/s: {{record["appliedLeaveDays"]}}</mat-card-title>
                  <p class=" text-xs font-semibold">Date:{{" "}}<span class="font-normal ">{{record["toDate"]|date:"dd, MMMM, yyyy"}} - {{record["fromDate"]|date:"dd, MMMM, yyyy"}}</span> </p>
                  <p class=" text-xs font-semibold">Leave Description:{{" "}}<span class="font-normal ">{{record["descriptionLeave"]}}</span> </p>
                  <p class=" text-xs font-semibold">Leave Type:{{" "}}<span class="font-normal ">{{record["leaveType"]|uppercase}}</span> </p>
                  <p class=" text-xs font-semibold">Reason:{{" "}}<span class="font-normal ">{{record["reason"]}}</span> </p>
                </div>
              </mat-card>
              <!--  else  -->
              <div *ngIf="recordLeaves == '' ">
                  <p class="text-blue-700 font-mono text-center">No record found!</p>
              </div>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
    </mat-tab>
    <!-- Tab 2 ATTENDANCE RECORD     -->
    <mat-tab label="ATTENDANCE RECORD">
      <!-- Card -->
      <div class="flex gap-4 flex-wrap py-10" >
        <mat-card class="w-96 h-auto shadow-xl p-4" >
          <div class="flex flex-col gap-4">
            <mat-card-title>Attendance Record</mat-card-title>
            <mat-card-subtitle class="text-blue-800">Here you can check your attendance record.</mat-card-subtitle>
            <mat-card-actions>
              <!--Button -->
              <div class="flex w-full justify-center" >
                <button class="w-full uppercase" mat-raised-button  color="primary" (click)="openRecord()">Click to view</button>
              </div>
            </mat-card-actions>
          </div>
        </mat-card>
        <mat-card class="w-96 h-auto shadow-xl p-4" >
          <div class="flex flex-col gap-4">
            <mat-card-title>Working Hours (Overall)</mat-card-title>
            <mat-card-subtitle class="text-blue-800">{{item}}</mat-card-subtitle>
          </div>
        </mat-card>
      </div>
    </mat-tab>
  </mat-tab-group>

</div>


